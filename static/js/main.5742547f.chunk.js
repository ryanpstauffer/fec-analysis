(this.webpackJsonpinteractive=this.webpackJsonpinteractive||[]).push([[0],{132:function(t,e,a){t.exports=a(140)},140:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),i=a(196),s=a(28),c=a(180),u=a(194),d=a(193),m=a(195),h=a(191),p=a(199),f=a(198),b=a(197),g=a(192),x=a(186),v=a(190),y=a(189),C=a(183),A=a(187),N=a(188),O=a(185),E=Object(c.a)({table:{minWidth:650,elevation:2,backgroundColor:"#edf1f5"},tableHeadCell:{fontWeight:"bold"}}),k=function(t){return"$"+Number.parseFloat(t).toFixed(1)},S=function(t){return"$"+Number.parseFloat(t).toFixed(0)},D=function(t){return Number.parseFloat(100*t).toFixed(1)+"%"},w=function(t){return Number.parseFloat(t).toFixed(0)};function _(t){var e=E(),a=[];if(null!==t.donorData){var n=t.donorData.data.filter((function(e){return e.CAND_NAME===t.candidate.recordName})).reduce((function(t,e){var a=parseInt(e.NUM_CANDIDATES_CONTRIBUTED),n=parseInt(e.TOTAL_NUM_CONTRIBUTIONS),r=parseInt(e.TOTAL_AMT_CONTRIBUTED);return 1==a?t[0]={numDonors:t[0].numDonors+n,amountContributed:t[0].amountContributed+r}:2==a?t[1]={numDonors:t[1].numDonors+n,amountContributed:t[1].amountContributed+r}:3==a?t[2]={numDonors:t[2].numDonors+n,amountContributed:t[2].amountContributed+r}:4==a?t[3]={numDonors:t[3].numDonors+n,amountContributed:t[3].amountContributed+r}:a>=5&&(t["4+"]={numDonors:t["4+"].numDonors+n,amountContributed:t["4+"].amountContributed+r}),t}),{0:{numDonors:0,amountContributed:0},1:{numDonors:0,amountContributed:0},2:{numDonors:0,amountContributed:0},3:{numDonors:0,amountContributed:0},"4+":{numDonors:0,amountContributed:0}});a=["0","1","2","3","4+"].map((function(t){return{category:t,numDonors:n[t].numDonors/1e3,amountContributed:n[t].amountContributed/1e6}}))}console.log(a);var o=0,l=0;return a.length>0&&(o=a.map((function(t){return t.numDonors})).reduce((function(t,e){return t+e})),l=a.map((function(t){return t.amountContributed})).reduce((function(t,e){return t+e}))),r.a.createElement(r.a.Fragment,null,a.length>0&&r.a.createElement(C.a,{component:O.a},r.a.createElement(x.a,{className:e.table,"aria-label":"donor table",size:"small"},r.a.createElement(A.a,null,r.a.createElement(N.a,null,r.a.createElement(y.a,{className:e.tableHeadCell},"Donors who contributed to"),r.a.createElement(y.a,{align:"right",className:e.tableHeadCell},"# of Donors (000s)"),r.a.createElement(y.a,{align:"right",className:e.tableHeadCell},"% of Total Donors"),r.a.createElement(y.a,{align:"right",className:e.tableHeadCell},"$ Contributed (MM)"),r.a.createElement(y.a,{align:"right",className:e.tableHeadCell},"% of Total Amt"),r.a.createElement(y.a,{align:"right",className:e.tableHeadCell},"Avg $ per Donor"))),r.a.createElement(v.a,null,a.map((function(e){return r.a.createElement(N.a,{key:e.category},r.a.createElement(y.a,{component:"th",scope:"row"},"0"===e.category?"Only "+t.candidate.key:e.category+" other candidate"),r.a.createElement(y.a,{align:"right"},w(e.numDonors)),r.a.createElement(y.a,{align:"right"},D(e.numDonors/o)),r.a.createElement(y.a,{align:"right"},k(e.amountContributed)),r.a.createElement(y.a,{align:"right"},D(e.amountContributed/l)),r.a.createElement(y.a,{align:"right"},S(1e3*e.amountContributed/e.numDonors)))})),r.a.createElement(N.a,{key:"total"},r.a.createElement(y.a,{component:"th",scope:"row",align:"right",className:e.tableHeadCell},"Total"),r.a.createElement(y.a,{align:"right",className:e.tableHeadCell},w(o)),r.a.createElement(y.a,{align:"right"}),r.a.createElement(y.a,{align:"right",className:e.tableHeadCell},k(l)),r.a.createElement(y.a,{align:"right"}),r.a.createElement(y.a,{align:"right",className:e.tableHeadCell},S(1e3*l/o)))))))}var T=a(27),B=a(30),j=a(31),I=a(32),M=a(33),R=a(4),U=a(5),F=100,L=50,W=25,V=25,$=function(t){Object(M.a)(a,t);var e=Object(I.a)(a);function a(t){var n;return Object(B.a)(this,a),(n=e.call(this,t)).svg=null,n.chart=null,n.xScale=null,n.yScale=null,n.bars=null,n.rendered=!1,n.maxValue=t.hasOwnProperty("maxValue")?t.maxValue:Math.max.apply(Math,Object(T.a)(n.props.data.map((function(t){return t.value})))),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.data.length>0?(console.log("Render on mount"),this.initialRender(this.props.data)):console.log("Mount but no render")}},{key:"initialRender",value:function(t){this.chart=this.svg.append("g").attr("transform","translate(".concat(F,",").concat(W,")")),this.drawChart(t),this.rendered=!0}},{key:"shouldComponentUpdate",value:function(t,e){return t.data!==this.props.data&&t.data.length>0&&!this.rendered?(console.log("d3 re-render"),console.log(t),this.maxValue=this.maxValue>1?this.maxValue:Math.max.apply(Math,Object(T.a)(t.data.map((function(t){return t.value})))),this.initialRender(t.data)):t.data!==this.props.data&&t.data.length>0&&this.rendered&&(console.log("d3 update"),console.log(t),this.maxValue=this.maxValue>1?this.maxValue:Math.max.apply(Math,Object(T.a)(t.data.map((function(t){return t.value})))),console.log(this.maxValue),this.updateChart(t.data)),!1}},{key:"updateChart",value:function(t){var e=this;console.log("d3 rerender"),this.xScale=U.k().domain([0,this.maxValue]).range([0,this.props.width-F-L]),this.bandScale=U.j().domain(t.map((function(t){return t.name}))).range([0,this.props.height-W-V]).paddingInner(.05);var a=U.c(this.bandScale).tickSize(0);this.axes.selectAll(".y-axis").call(a),this.axes.selectAll(".tick").select("text").classed(this.props.classes.axisLabel,!0),this.bars.selectAll("rect").data(t).enter().append("rect").attr("height",this.bandScale.bandwidth()).attr("y",(function(t){return e.bandScale(t.name)})).attr("fill",this.props.color).attr("width",0);this.bars.selectAll("text").data(t).enter().append("text").classed(this.props.classes.barLabel,!0).attr("x",20).attr("y",(function(t){return e.bandScale(t.name)+e.bandScale.bandwidth()/2})).attr("text-anchor","start").attr("alignment-baseline","middle").text(0);this.bars.selectAll("rect").data(t).transition().duration(1e3).attr("width",(function(t){return e.xScale(t.value)})),this.bars.selectAll("text").data(t).transition().duration(1e3).attr("x",(function(t){return e.xScale(t.value)+10})).tween("text",(function(t){var e=U.g(this.textContent,t.value);return function(t){this.textContent=Math.round(e(t))}}))}},{key:"drawChart",value:function(t){var e=this;console.log("d3 intial render"),this.xScale=U.k().domain([0,this.maxValue]).range([0,this.props.width-F-L]),this.bandScale=U.j().domain(t.map((function(t){return t.name}))).range([0,this.props.height-W-V]).paddingInner(.05),this.axes=this.chart.append("g").classed("axes",!0);var a=U.c(this.bandScale).tickSize(0);this.axes.append("g").classed("y-axis",!0).attr("color","#222").call(a);var n=this.axes.selectAll(".tick").select("text").classed(this.props.classes.axisLabel,!0);console.log(n),this.bars=this.chart.append("g").classed("bars",!0),this.bars.selectAll("rect").data(t).enter().append("rect").attr("height",this.bandScale.bandwidth()).attr("y",(function(t){return e.bandScale(t.name)})).attr("fill",this.props.color).attr("width",0);this.bars.selectAll("text").data(t).enter().append("text").classed(this.props.classes.barLabel,!0).attr("x",20).attr("y",(function(t){return e.bandScale(t.name)+e.bandScale.bandwidth()/2})).attr("text-anchor","start").attr("alignment-baseline","middle").text(0);this.bars.selectAll("rect").data(t).transition().duration(1e3).attr("width",(function(t){return e.xScale(t.value)})),this.bars.selectAll("text").data(t).transition().duration(1e3).attr("x",(function(t){return e.xScale(t.value)+10})).tween("text",(function(t){var e=U.g(this.textContent,t.value);return function(t){this.textContent=Math.round(e(t))}}))}},{key:"render",value:function(){var t=this;return console.log("React re-render"),r.a.createElement("svg",{width:this.props.width,height:this.props.height,ref:function(e){return t.svg=U.m(e)}})}}]),a}(r.a.Component),H=Object(R.a)((function(t){return{barLabel:{fontFamily:"Lato, sans-serif"},axisLabel:{fontFamily:"Lato, sans-serif",fontWeight:"bold",fontSize:14}}}))($),z=function(t){return U.f("($,.1f")(t)},K=65,Y=25,q=25,J=40,P=U.q("%Y-%m-%d"),G=function(t){Object(M.a)(a,t);var e=Object(I.a)(a);function a(t){var n;return Object(B.a)(this,a),(n=e.call(this,t)).svg=null,n.chart=null,n.xScale=null,n.xAxis=null,n.xAxisRef=null,n.yScale=null,n.yAxis=null,n.yAxisRef=null,n.axes=null,n.lines=null,n.rendered=!1,n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.data&&(this.chart=this.svg.append("g").attr("transform","translate(".concat(K,",").concat(q,")")),this.drawChart(this.props.data),this.rendered=!0)}},{key:"shouldComponentUpdate",value:function(t,e){return console.log(t),t.data===this.props.data||this.rendered?t.data!==this.props.data&&(console.log("d3 update"),this.updateChart(t.data)):(console.log("d3 re-render"),this.chart=this.svg.append("g").attr("transform","translate(".concat(K,",").concat(q,")")),this.drawChart(t.data),this.rendered=!0),!1}},{key:"drawChart",value:function(t){var e=this;console.log("d3 rerender"),this.xScale=U.l().domain(U.e(this.props.data,(function(t){return P(t.date)}))).range([0,this.props.width-K-Y]).nice(),this.xAxis=U.b(this.xScale).ticks(U.p.every(3)).tickFormat(U.o("%Y-%m-%d")),this.axes=this.chart.append("g").classed("axes",!0),this.xAxisRef=this.axes.append("g").classed("x-axis",!0).attr("transform","translate(0, ".concat(this.props.height-q-J,")")).attr("color","#222").call(this.xAxis),this.axes.append("text").classed("x-axis-label",!0).classed(this.props.classes.axisLabel,!0).attr("y",this.props.height-J).attr("x",(this.props.width-K-Y)/2).attr("dy","1em").attr("text-anchor","middle").text("Date");var a=U.i(this.props.data,(function(t){return+Math.abs(t.total.a-t.total.b)}));this.yScale=U.k().domain([-a,+a]).range([this.props.height-q-J,0]).nice(),this.yAxis="currency"===this.props.type?U.c(this.yScale).tickFormat(z):U.c(this.yScale),this.yAxisRef=this.axes.append("g").classed("y-axis",!0).attr("color","#222").call(this.yAxis),this.axes.append("text").classed("y-axis-label",!0).classed(this.props.classes.axisLabel,!0).attr("transform","rotate(-90)").attr("y",0-K).attr("x",0-(this.props.height-q-J)/2).attr("dy","1em").attr("text-anchor","middle").text("Crossover Donor Difference ($MM)"),U.n(".tick").select("text").classed(this.props.classes.tickLabel,!0),this.lines=this.chart.append("g").classed("lines",!0);var n=U.h().x((function(t){return e.xScale(P(t.date))})).y((function(t){return e.yScale(0)})),r=U.h().x((function(t){return e.xScale(P(t.date))})).y((function(t){return e.yScale(t.total.a-t.total.b)}));this.lines.append("path").datum(this.props.data).style("fill","none").style("stroke-width",1.5).style("stroke","black").attr("d",n),this.lines.append("path").classed("a",!0).datum(this.props.data).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",r);var o=U.a().x((function(t){return e.xScale(P(t.date))})).y1((function(t){return e.yScale(Math.max(t.total.a-t.total.b,0))})).y0((function(t){return e.yScale(0)})),l=U.a().x((function(t){return e.xScale(P(t.date))})).y1((function(t){return e.yScale(Math.min(t.total.a-t.total.b,0))})).y0((function(t){return e.yScale(0)}));this.lines.append("path").datum(this.props.data).classed("negative",!0).style("fill","red").style("fill-opacity",.5).attr("d",(function(t){console.log(t);var e=l(t);return console.log(e),e})),this.lines.append("path").datum(this.props.data).classed("positive",!0).style("fill","green").style("fill-opacity",.5).attr("d",(function(t){console.log(t);var e=o(t);return console.log(e),e}))}},{key:"updateChart",value:function(t){var e=this;console.log("d3 update"),console.log(this.xScale),this.xScale=this.xScale.domain(U.e(t,(function(t){return P(t.date)}))).nice(),this.xAxisRef.transition().duration(500).call(this.xAxis);var a=U.i(t,(function(t){return+Math.abs(t.total.a-t.total.b)}));this.yScale=U.k().domain([-a,+a]).range([this.props.height-q-J,0]).nice(),this.yAxis="currency"===this.props.type?U.c(this.yScale).tickFormat(z):U.c(this.yScale),this.yAxisRef.transition().duration(500).call(this.yAxis);var n=U.r().duration(500).ease(U.d);this.lines.select(".a").datum(t).transition(n).attr("d",U.h().x((function(t){return e.xScale(P(t.date))})).y((function(t){return e.yScale(t.total.a-t.total.b)})));var r=U.a().x((function(t){return e.xScale(P(t.date))})).y1((function(t){return e.yScale(Math.max(t.total.a-t.total.b,0))})).y0((function(t){return e.yScale(0)})),o=U.a().x((function(t){return e.xScale(P(t.date))})).y1((function(t){return e.yScale(Math.min(t.total.a-t.total.b,0))})).y0((function(t){return e.yScale(0)}));this.lines.select(".negative").datum(t).transition(n).attr("d",o),this.lines.select(".positive").datum(t).transition(n).attr("d",r)}},{key:"render",value:function(){var t=this;return console.log("React rerender"),r.a.createElement("svg",{width:this.props.width,height:this.props.height,ref:function(e){return t.svg=U.m(e)}})}}]),a}(r.a.Component),Q=Object(R.a)((function(t){return{axisLabel:{fontFamily:"Raleway, sans-serif",fontWeight:"bold"},tickLabel:{fontFamily:"Raleway, sans-serif"}}}))(G),X=80,Z=60,tt=25,et=25,at=function(t){return U.f("($,.1f")(t)},nt=function(t){return U.f("(,.0f")(t)},rt=function(t){Object(M.a)(a,t);var e=Object(I.a)(a);function a(t){var n;return Object(B.a)(this,a),(n=e.call(this,t)).svg=null,n.chart=null,n.xScale=null,n.yScale=null,n.bars=null,n.formatter="currency"===t.format?at:nt,n.rendered=!1,n.maxValue=Math.max.apply(Math,Object(T.a)(n.props.data.map((function(t){return t.totalAmount})))),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.data.length>0?(console.log("Render on mount"),this.initialRender(this.props.data)):console.log("Mount but no render")}},{key:"initialRender",value:function(t){this.chart=this.svg.append("g").attr("transform","translate(".concat(X,",").concat(tt,")")),this.drawChart(t),this.rendered=!0}},{key:"shouldComponentUpdate",value:function(t,e){return t.data!==this.props.data&&t.data.length>0&&!this.rendered?(console.log(t),this.initialRender(t.data)):t.data!==this.props.data&&t.data.length>0&&this.rendered&&(console.log(t),this.updateChart(t.data)),!1}},{key:"updateChart",value:function(t){var e=this;console.log("d3 update"),this.maxValue=Math.max.apply(Math,Object(T.a)(t.map((function(t){return t.totalAmount})))),this.xScale=U.k().domain([0,this.maxValue]).range([0,this.props.width-X-Z]),this.bandScale=U.j().domain(t.map((function(t){return t.name}))).range([0,this.props.height-tt-et]).paddingInner(.05);var a=U.c(this.bandScale).tickSize(0);this.axes.selectAll(".y-axis").call(a),this.axes.selectAll(".tick").select("text").classed(this.props.classes.axisLabel,!0),this.bars.selectAll("rect").data(t).enter().append("rect").attr("height",this.bandScale.bandwidth()).attr("y",(function(t){return e.bandScale(t.name)})).attr("fill",this.props.color).attr("width",0);this.bars.selectAll("text").data(t).enter().append("text").classed(this.props.classes.barLabel,!0).attr("x",20).attr("y",(function(t){return e.bandScale(t.name)+e.bandScale.bandwidth()/2})).attr("text-anchor","middle").text(0);this.bars.selectAll(".cross").data(t).transition().duration(1e3).attr("width",(function(t){return e.xScale(t.crossAmount)})),this.bars.selectAll(".total").data(t).transition().duration(1e3).attr("width",(function(t){return e.xScale(t.totalAmount)}));var n=this.formatter;this.bars.selectAll(".totalLabel").data(t).transition().duration(1e3).attr("x",(function(t){return e.xScale(t.totalAmount)+10})).tween("text",(function(t){var e=parseFloat(this.textContent.replace("$","").replace(",","")),a=U.g(e,t.totalAmount);return function(t){this.textContent=n(a(t))}})),this.bars.selectAll(".crossLabel").data(t).transition().duration(1e3).attr("x",(function(t){return e.xScale(t.crossAmount)+10})).tween("text",(function(t){var e=parseFloat(this.textContent.replace("$","").replace(",","")),a=U.g(e,t.crossAmount);return function(t){this.textContent=n(a(t))}}))}},{key:"drawChart",value:function(t){var e=this;console.log("d3 render"),this.xScale=U.k().domain([0,this.maxValue]).range([0,this.props.width-X-Z]),this.bandScale=U.j().domain(t.map((function(t){return t.name}))).range([0,this.props.height-tt-et]).paddingInner(.05),this.axes=this.chart.append("g").classed("axes",!0);var a=U.c(this.bandScale).tickSize(0);this.axes.append("g").classed("y-axis",!0).attr("color","#222").call(a);this.axes.selectAll(".tick").select("text").classed(this.props.classes.axisLabel,!0);this.bars=this.chart.append("g").classed("bars",!0);var n=this.bars.selectAll("rect").data(t).enter();n.append("rect").classed("total",!0).attr("height",this.bandScale.bandwidth()).attr("y",(function(t){return e.bandScale(t.name)})).attr("fill","steelblue").attr("width",0),n.append("rect").classed("cross",!0).attr("height",this.bandScale.bandwidth()).attr("y",(function(t){return e.bandScale(t.name)})).attr("fill","#e9bb59").attr("width",0);var r=this.bars.selectAll("text").data(t).enter(),o=this.formatter;r.append("text").classed(this.props.classes.barLabel,!0).classed("totalLabel",!0).attr("x",20).attr("y",(function(t){return e.bandScale(t.name)+e.bandScale.bandwidth()/2})).attr("text-anchor","start").attr("alignment-baseline","middle").text(o(0)),r.append("text").classed(this.props.classes.barLabel,!0).classed("crossLabel",!0).attr("fill","white").attr("x",20).attr("y",(function(t){return e.bandScale(t.name)+e.bandScale.bandwidth()/2})).attr("text-anchor","start").attr("alignment-baseline","middle").text(o(0)),this.bars.selectAll(".cross").data(t).transition().duration(1e3).attr("width",(function(t){return e.xScale(t.crossAmount)})),this.bars.selectAll(".total").data(t).transition().duration(1e3).attr("width",(function(t){return e.xScale(t.totalAmount)})),this.bars.selectAll(".totalLabel").data(t).transition().duration(1e3).attr("x",(function(t){return e.xScale(t.totalAmount)+10})).tween("text",(function(t){var e=parseFloat(this.textContent.replace("$","").replace(",","")),a=U.g(e,t.totalAmount);return function(t){this.textContent=o(a(t))}})),this.bars.selectAll(".crossLabel").data(t).transition().duration(1e3).attr("x",(function(t){return e.xScale(t.crossAmount)+10})).tween("text",(function(t){var e=parseFloat(this.textContent.replace("$","").replace(",","")),a=U.g(e,t.crossAmount);return function(t){this.textContent=o(a(t))}}))}},{key:"render",value:function(){var t=this;return console.log("React re-render"),r.a.createElement("svg",{width:this.props.width,height:this.props.height,ref:function(e){return t.svg=U.m(e)}})}}]),a}(r.a.Component),ot=Object(R.a)((function(t){return{barLabel:{fontFamily:"Lato, sans-serif"},axisLabel:{fontFamily:"Lato, sans-serif",fontWeight:"bold",fontSize:14}}}))(rt);function lt(t){var e=[];if(null!==t.data){var a=t.data.data.filter((function(e){return e.CandidateName===t.candidate.recordName}))[0];e=["1x","2x","3x","4-9x",">10x"].map((function(t){return{name:t,value:parseInt(a[t])/1e3}}))}return r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h6",align:"left"},"By Contribution frequency")),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h7",align:"left",color:"textSecondary"},"in 000s")),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(H,{height:400,width:300,data:e,maxValue:1e3,color:"steelblue"})))}function it(t){var e=[];if(null!==t.data){var a=t.data.data.filter((function(e){return e.CandidateName===t.candidate.recordName}))[0];e=["$10 or less","$11-50","$51-100","$101-200","$201-500","$501-2,799","$2,800 +"].map((function(t){return{name:t,value:parseInt(a[t])/1e3}}))}return r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h6",align:"left"},"By Contribution Amount")),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h7",align:"left",color:"textSecondary"},"in 000s")),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(H,{height:400,width:300,data:e,maxValue:780,color:"steelblue"})))}function st(t){var e=t.crossDonorData[t.candidate.key].map((function(t){return{name:t.name,value:t.value/1e3}}));return r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h6",align:"left"},"Crossover Donors")),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h7",align:"left",color:"textSecondary"},"Donated to both ",t.candidate.key," and others, in 000s")),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(H,{height:400,width:300,data:e,maxValue:195,color:"steelblue"})))}var ct=a(17),ut=U.o("%Y-%m-%d"),dt=new Date(2017,0,0),mt=new Date(2018,0,0),ht=new Date(dt),pt=[];do{(ht=new Date(ht)).setDate(ht.getDate()+1),pt.push(ut(ht))}while(ht<=mt);function ft(t){return Math.floor(Math.random()*Math.floor(t))}var bt=[];pt.forEach((function(t){var e={date:t,total:{a:4.95*ft(15),b:4.95*ft(17)}};bt.push(e)}));var gt=bt.map((function(t,e,a){return{date:t.date,total:{a:a.filter((function(t,a){return a<=e})).reduce((function(t,e){return t+e.total.a}),0),b:a.filter((function(t,a){return a<=e})).reduce((function(t,e){return t+e.total.b}),0)}}}));function xt(t){var e=[],a=[],n=[];if(null!==t.crossDonorData){var o,l=t.crossDonorData.data.filter((function(e){return(e.CAND_A===t.candidate.recordName||e.CAND_A===t.compareCandidate.recordName)&&(e.CAND_B===t.candidate.recordName||e.CAND_B===t.compareCandidate.recordName)})).reduce((function(e,a){if(a.CAND_A===a.CAND_B&&a.CAND_A===t.candidate.recordName){var n,r=""!==a.NEW_DONOR_COUNT_A?parseInt(a.NEW_DONOR_COUNT_A):0,o=""!==a.CONTRIBUTION_AMOUNT_A?Number.parseFloat(a.CONTRIBUTION_AMOUNT_A):0;return n={},Object(ct.a)(n,t.candidate.key,{crossCount:e[t.candidate.key].crossCount,totalCount:e[t.candidate.key].totalCount+r,crossAmount:e[t.candidate.key].crossAmount,totalAmount:e[t.candidate.key].totalAmount+o}),Object(ct.a)(n,t.compareCandidate.key,{crossCount:e[t.compareCandidate.key].crossCount,totalCount:e[t.compareCandidate.key].totalCount,crossAmount:e[t.compareCandidate.key].crossAmount,totalAmount:e[t.compareCandidate.key].totalAmount}),n}if(a.CAND_A===a.CAND_B&&a.CAND_A===t.compareCandidate.recordName){var l,i=""!==a.NEW_DONOR_COUNT_A?parseInt(a.NEW_DONOR_COUNT_A):0,s=""!==a.CONTRIBUTION_AMOUNT_A?Number.parseFloat(a.CONTRIBUTION_AMOUNT_A):0;return l={},Object(ct.a)(l,t.candidate.key,{crossCount:e[t.candidate.key].crossCount,totalCount:e[t.candidate.key].totalCount,crossAmount:e[t.candidate.key].crossAmount,totalAmount:e[t.candidate.key].totalAmount}),Object(ct.a)(l,t.compareCandidate.key,{crossCount:e[t.compareCandidate.key].crossCount,totalCount:e[t.compareCandidate.key].totalCount+i,crossAmount:e[t.compareCandidate.key].crossAmount,totalAmount:e[t.compareCandidate.key].totalAmount+s}),l}if(a.CAND_A===t.candidate.recordName&&a.CAND_B===t.compareCandidate.recordName){var c,u=""!==a.NEW_DONOR_COUNT_A?parseInt(a.NEW_DONOR_COUNT_A):0,d=""!==a.CONTRIBUTION_AMOUNT_A?Number.parseFloat(a.CONTRIBUTION_AMOUNT_A):0,m=""!==a.NEW_DONOR_COUNT_B?parseInt(a.NEW_DONOR_COUNT_B):0,h=""!==a.CONTRIBUTION_AMOUNT_B?Number.parseFloat(a.CONTRIBUTION_AMOUNT_B):0;return c={},Object(ct.a)(c,t.candidate.key,{crossCount:e[t.candidate.key].crossCount+u,totalCount:e[t.candidate.key].totalCount,crossAmount:e[t.candidate.key].crossAmount+d,totalAmount:e[t.candidate.key].totalAmount}),Object(ct.a)(c,t.compareCandidate.key,{crossCount:e[t.compareCandidate.key].crossCount+m,totalCount:e[t.compareCandidate.key].totalCount,crossAmount:e[t.compareCandidate.key].crossAmount+h,totalAmount:e[t.compareCandidate.key].totalAmount}),c}return e}),(o={},Object(ct.a)(o,t.candidate.key,{crossCount:0,totalCount:0,crossAmount:0,totalAmount:0}),Object(ct.a)(o,t.compareCandidate.key,{crossCount:0,totalCount:0,crossAmount:0,totalAmount:0}),o));console.log(l),e=[t.candidate.key,t.compareCandidate.key].map((function(t){return{name:t,crossAmount:l[t].crossCount/1e3,totalAmount:l[t].totalCount/1e3}})),console.log(e),a=[t.candidate.key,t.compareCandidate.key].map((function(t){return{name:t,crossAmount:l[t].crossAmount/1e6,totalAmount:l[t].totalAmount/1e6}})),n=t.crossDonorData.data.filter((function(e){return e.CAND_A===t.candidate.recordName&&e.CAND_B===t.compareCandidate.recordName})).map((function(t){return{date:t.CONTRIBUTION_DATE,a:""!==t.CONTRIBUTION_AMOUNT_A?Number.parseFloat(t.CONTRIBUTION_AMOUNT_A)/1e6:0,b:""!==t.CONTRIBUTION_AMOUNT_B?Number.parseFloat(t.CONTRIBUTION_AMOUNT_B)/1e6:0}})).map((function(t,e,a){return{date:t.date,total:{a:a.filter((function(t,a){return a<=e})).reduce((function(t,e){return t+e.a}),0),b:a.filter((function(t,a){return a<=e})).reduce((function(t,e){return t+e.b}),0)}}})),console.log(n),console.log(a)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"h6",align:"left"},"Relative Crossover Donor Momentum"),n.length>0&&r.a.createElement(Q,{height:300,width:900,data:n,type:"currency"}),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{container:!0,item:!0,xs:6},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h6",align:"left"},"Donor Count")),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h7",align:"left",color:"textSecondary"},"in 000s")),r.a.createElement(h.a,{item:!0,xs:12},e.length>0&&r.a.createElement(ot,{width:400,height:200,data:e,color:"steelblue",maxValue:2e3}))),r.a.createElement(h.a,{container:!0,item:!0,xs:6},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h6",align:"left"},"Contribution Amount ($)")),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"h7",align:"left",color:"textSecondary"},"in $MM")),r.a.createElement(h.a,{item:!0,xs:12},a.length>0&&r.a.createElement(ot,{width:400,height:200,data:a,format:"currency",color:"steelblue"})))))}console.log(gt);var vt=a(42),yt=a.n(vt),Ct={Buttigieg:[{name:"Warren",value:145418},{name:"Klobuchar",value:83212},{name:"Harris",value:80671},{name:"Biden",value:73841},{name:"Sanders",value:67957},{name:"Booker",value:57528},{name:"O'Rourke",value:45762},{name:"Steyer",value:34945},{name:"Yang",value:28671},{name:"Inslee",value:24953}],Biden:[{name:"Buttigieg",value:73841},{name:"Warren",value:63017},{name:"Klobuchar",value:62569},{name:"Harris",value:51654},{name:"Booker",value:35431},{name:"Steyer",value:33332},{name:"O'Rourke",value:28925},{name:"Sanders",value:27820},{name:"Inslee",value:12643},{name:"Yang",value:9282}],Warren:[{name:"Sanders",value:195072},{name:"Buttigieg",value:145418},{name:"Harris",value:124557},{name:"Klobuchar",value:82519},{name:"Booker",value:75563},{name:"Biden",value:63017},{name:"O'Rourke",value:42391},{name:"Inslee",value:42358},{name:"Steyer",value:38369},{name:"Yang",value:32290}],Klobuchar:[{name:"Buttigieg",value:83212},{name:"Warren",value:82519},{name:"Biden",value:62569},{name:"Harris",value:55081},{name:"Booker",value:44113},{name:"Sanders",value:24584},{name:"Steyer",value:22398},{name:"O'Rourke",value:19430},{name:"Inslee",value:18915},{name:"Yang",value:13459}],Sanders:[{name:"Warren",value:195072},{name:"Buttigieg",value:67957},{name:"Gabbard",value:62038},{name:"Yang",value:52711},{name:"Harris",value:41221},{name:"Steyer",value:33550},{name:"Booker",value:29370},{name:"Biden",value:27820},{name:"Williamson",value:26938},{name:"Inslee",value:25258}]},At=Object(c.a)((function(t){return{root:{display:"flex"},title:{padding:t.spacing(3)},vizContainer:{padding:t.spacing(3)},dropdown:{width:120},table:{padding:t.spacing(3)}}})),Nt={Biden:{fullName:"Joe Biden",recordName:"Biden, Joe",key:"Biden"},Buttigieg:{fullName:"Pete Buttigieg",recordName:"Buttigieg, Pete",key:"Buttigieg"},Klobuchar:{fullName:"Amy Klobuchar",recordName:"Klobuchar, Amy",key:"Klobuchar"},Sanders:{fullName:"Bernie Sanders",recordName:"Sanders, Bernie",key:"Sanders"},Warren:{fullName:"Elizabeth Warren",recordName:"Warren, Elizabeth",key:"Warren"}};function Ot(){var t=At(),e=Object(n.useState)(Nt.Biden),a=Object(s.a)(e,2),o=a[0],l=a[1],i=Object(n.useState)(Nt.Buttigieg),c=Object(s.a)(i,2),x=c[0],v=c[1],y=Object(n.useState)(null),C=Object(s.a)(y,2),A=C[0],N=C[1],O=Object(n.useState)(null),E=Object(s.a)(O,2),k=E[0],S=E[1],D=Object(n.useState)(null),w=Object(s.a)(D,2),T=w[0],B=w[1],j=Object(n.useState)(null),I=Object(s.a)(j,2),M=I[0],R=I[1];Object(n.useEffect)((function(){yt.a.parse("ContributionFrequencyChart.csv",{download:!0,header:!0,complete:function(t,e){console.log(t),N(t)}});yt.a.parse("ContributionAmountChart.csv",{download:!0,header:!0,complete:function(t,e){console.log(t),S(t)}});yt.a.parse("TotalContributionsByNumberOfCandidatesDonatedTo.csv",{download:!0,header:!0,complete:function(t,e){console.log(t),B(t)}});yt.a.parse("CrossDonorContributions.csv",{download:!0,header:!0,complete:function(t,e){console.log(t),R(t)}})}),[]);return r.a.createElement("div",null," ",r.a.createElement(d.a,null),r.a.createElement(u.a,{maxWidth:"md",component:"header",className:t.title},r.a.createElement(g.a,{variant:"h3",align:"center"},"Campaign Contribution Analysis"),r.a.createElement(g.a,{variant:"h4",align:"center",color:"textSecondary"},"Democratic Primary Edition")),r.a.createElement(u.a,{maxWidth:"md",component:"main",className:t.vizContainer},r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:9},r.a.createElement(g.a,{variant:"h4",align:"left"},o.fullName," Donor Overview")),r.a.createElement(h.a,{item:!0,xs:3},r.a.createElement(m.a,{className:t.formControl},r.a.createElement(p.a,{id:"select-candidate-label"},"Candidate"),r.a.createElement(b.a,{labelId:"select-candidate-label",id:"select-candidate",value:o.key,onChange:function(t){if(t.target.value===x.key){var e=Object.values(Nt).filter((function(e){return e.key!=t.target.value}))[0];v(e)}l(Nt[t.target.value])},autoWidth:!1,className:t.dropdown},Object.values(Nt).map((function(t){return r.a.createElement(f.a,{value:t.key},t.key)})))))),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:12,sm:4},r.a.createElement(it,{data:k,candidate:o})),r.a.createElement(h.a,{item:!0,xs:12,sm:4},r.a.createElement(lt,{data:A,candidate:o})),r.a.createElement(h.a,{item:!0,xs:12,sm:4},r.a.createElement(st,{crossDonorData:Ct,candidate:o}))),r.a.createElement(_,{className:t.table,donorData:T,candidate:o}),r.a.createElement(h.a,{container:!0,className:t.title},r.a.createElement(h.a,{item:!0,xs:9},r.a.createElement(g.a,{variant:"h4",align:"left"},"Candidate Comparison"),r.a.createElement(g.a,{variant:"h5",align:"left",color:"textSecondary"},o.fullName," and ",x.fullName)),r.a.createElement(h.a,{item:!0,xs:3},r.a.createElement(m.a,{className:t.formControl},r.a.createElement(p.a,{id:"select-candidate-label"},"Compare to"),r.a.createElement(b.a,{labelId:"select-candidate-label",id:"select-candidate",value:x.key,onChange:function(t){v(Nt[t.target.value])},autoWidth:!1,className:t.dropdown},Object.values(Nt).filter((function(t){return t.key!=o.key})).map((function(t){return r.a.createElement(f.a,{value:t.key},t.key)})))))),r.a.createElement(xt,{crossDonorData:M,candidate:o,compareCandidate:x})))}var Et=a(80),kt=Object(Et.a)({palette:{common:{black:"#000",white:"#fff"},primary:{light:"steelblue",main:"steelblue",dark:"steelblue",contrastText:"#fff"},error:{light:"#ff595a",main:"#ff595a",dark:"#ff595a",contrastText:"#fff"},background:{paper:"#fff",default:"#fff"}},typography:{fontFamily:"Lato, sans-serif",h1:{fontFamily:"Oswald, sans-serif"},h2:{fontFamily:"Oswald, sans-serif"},h3:{fontFamily:"Oswald, sans-serif"},h4:{fontFamily:"Oswald, sans-serif"},h5:{fontFamily:"Oswald, sans-serif"}}});l.a.render(r.a.createElement(i.a,{theme:kt},r.a.createElement(Ot,null)),document.querySelector("#root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.5742547f.chunk.js.map