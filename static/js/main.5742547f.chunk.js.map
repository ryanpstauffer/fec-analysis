{"version":3,"sources":["components/DonorOverviewTable.js","components/HorizontalBarChart.js","components/MomentumLineChart.js","components/CrossDonorBarChart.js","components/ContributionFrequencyHistogram.js","components/ContributionAmountHistogram.js","components/CrossDonorSummaryChart.js","components/CrossDonorAnalysis.js","App.js","Theme.js","index.js"],"names":["useStyles","makeStyles","table","minWidth","elevation","backgroundColor","tableHeadCell","fontWeight","financial","x","Number","parseFloat","toFixed","dollars","percentage","quantity","DonorOverviewTable","props","classes","crossDonorRows","donorData","crossDonorMap","data","filter","row","CAND_NAME","candidate","recordName","reduce","acc","cur","bucket","parseInt","NUM_CANDIDATES_CONTRIBUTED","number","TOTAL_NUM_CONTRIBUTIONS","amount","TOTAL_AMT_CONTRIBUTED","numDonors","amountContributed","map","key","category","console","log","donorTotalCount","donorTotalDollars","length","d","TableContainer","component","Paper","Table","className","aria-label","size","TableHead","TableRow","TableCell","align","TableBody","scope","MARGINS","HorizontalBarChart","svg","chart","xScale","yScale","bars","rendered","maxValue","hasOwnProperty","Math","max","value","this","initialRender","append","attr","drawChart","nextProps","nextState","updateChart","d3","domain","range","width","bandScale","name","height","paddingInner","yAxis","tickSize","axes","selectAll","call","select","classed","axisLabel","enter","bandwidth","color","barLabel","text","transition","duration","tween","i","textContent","t","round","ref","elem","React","Component","withStyles","theme","fontFamily","fontSize","currencyFormatter","num","parseDate","LineChart","xAxis","xAxisRef","yAxisRef","lines","date","nice","ticks","every","tickFormat","maxY","abs","total","a","b","type","tickLabel","horizAxisLine","y","momentumLine","datum","style","positiveDiff","y1","y0","negativeDiff","min","result","ease","thousandsFormatter","CrossDonorBarChart","formatter","format","totalAmount","crossAmount","floatValue","replace","labelEnter","contributionFrequencyHistogram","contributionsFreq","candidateData","CandidateName","Grid","container","item","xs","Typography","variant","ContributionAmountHistogram","CrossDonorSummaryChart","candidateCrossDonorSummary","crossDonorData","dateToString","startDate","Date","endDate","currentDate","dates","setDate","getDate","push","getRandomInt","floor","random","LINE_DATA","forEach","dp","CUMULATIVE_LINE_DATA","d1","i1","_arr","d2","i2","CrossDonorAnalysis","crossDonorCount","crossDonorAmount","momentumData","CAND_A","compareCandidate","CAND_B","totalCountIncrement","NEW_DONOR_COUNT_A","totalAmountIncrement","CONTRIBUTION_AMOUNT_A","crossCount","totalCount","countAIncrement","amountAIncrement","countBIncrement","NEW_DONOR_COUNT_B","amountBIncrement","CONTRIBUTION_AMOUNT_B","CONTRIBUTION_DATE","MomentumLineChart","CROSS_DONOR_SUMMARY","root","display","title","padding","spacing","vizContainer","dropdown","CANDIDATES","Biden","fullName","Buttigieg","Klobuchar","Sanders","Warren","App","useState","setCandidate","setCompareCandidate","contributionDataComplete","setContributionDataComplete","contributionAmountComplete","setContributionAmountComplete","contributionsByNumbersOfCandidates","setContributionsByNumbersOfCandidates","crossDonorDetail","setCrossDonorDetail","useEffect","Papa","parse","download","header","complete","results","file","CssBaseline","Container","maxWidth","FormControl","formControl","InputLabel","id","Select","labelId","onChange","event","target","newCompareCandidate","Object","values","cand","autoWidth","MenuItem","sm","createMuiTheme","palette","common","black","white","primary","light","main","dark","contrastText","error","background","paper","default","typography","h1","h2","h3","h4","h5","ReactDOM","render","ThemeProvider","document","querySelector"],"mappings":"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","file":"static/js/main.5742547f.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n    elevation: 2,\n    backgroundColor: '#edf1f5'\n  },\n  tableHeadCell: {\n    fontWeight: \"bold\"\n  }\n});\n\n// Financial formatting\nconst financial = x => \"$\" + Number.parseFloat(x).toFixed(1);\n\n// Rounded dollars format.\nconst dollars = x => \"$\" + Number.parseFloat(x).toFixed(0);\n\n// Percentage formatting\nconst percentage = x => Number.parseFloat(x * 100).toFixed(1) + \"%\";\n\nconst quantity = x => Number.parseFloat(x).toFixed(0);\n\nexport default function DonorOverviewTable(props) {\n  const classes = useStyles();\n\n  let crossDonorRows = [];\n  if (props.donorData !== null) {\n    const crossDonorMap = props.donorData.data\n      .filter(row => row.CAND_NAME === props.candidate.recordName)\n      .reduce((acc, cur) => {\n        const bucket = parseInt(cur.NUM_CANDIDATES_CONTRIBUTED);\n        const number = parseInt(cur.TOTAL_NUM_CONTRIBUTIONS);\n        const amount = parseInt(cur.TOTAL_AMT_CONTRIBUTED);\n\n        if (bucket == 1) {\n          acc['0'] = {\n            numDonors: acc['0'].numDonors + number,\n            amountContributed: acc['0'].amountContributed + amount\n          };\n        } else if (bucket == 2) {\n          acc['1'] = {\n            numDonors: acc['1'].numDonors + number,\n            amountContributed: acc['1'].amountContributed + amount\n          };\n        } else if (bucket == 3) {\n          acc['2'] = {\n            numDonors: acc['2'].numDonors + number,\n            amountContributed: acc['2'].amountContributed + amount\n          };\n        } else if (bucket == 4) {\n          acc['3'] = {\n            numDonors: acc['3'].numDonors + number,\n            amountContributed: acc['3'].amountContributed + amount\n          };\n        } else if (bucket >= 5) {\n          acc['4+'] = {\n            numDonors: acc['4+'].numDonors + number,\n            amountContributed: acc['4+'].amountContributed + amount\n          };\n        }\n        return acc\n      }, {\n          '0': { numDonors: 0, amountContributed: 0 },\n          '1': { numDonors: 0, amountContributed: 0 },\n          '2': { numDonors: 0, amountContributed: 0 },\n          '3': { numDonors: 0, amountContributed: 0 },\n          '4+': { numDonors: 0, amountContributed: 0 },\n      });\n   crossDonorRows = ['0', '1', '2', '3', '4+'].map(key => ({\n      category: key,\n      numDonors: crossDonorMap[key].numDonors/1000,\n      amountContributed: crossDonorMap[key].amountContributed/1000000\n    }));\n  }\n  console.log(crossDonorRows)\n\n  let donorTotalCount = 0;\n  let donorTotalDollars = 0;\n  if (crossDonorRows.length > 0) {\n    donorTotalCount = crossDonorRows\n        .map(d => d.numDonors)\n        .reduce((acc, cur) => acc + cur);\n\n    donorTotalDollars = crossDonorRows\n        .map(d => d.amountContributed)\n        .reduce((acc, cur) => acc + cur);\n  }\n\n\n  return (<>\n    {crossDonorRows.length > 0 && (\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label=\"donor table\" size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell className={classes.tableHeadCell}>Donors who contributed to</TableCell>\n              <TableCell align=\"right\" className={classes.tableHeadCell}># of Donors (000s)</TableCell>\n              <TableCell align=\"right\" className={classes.tableHeadCell}>% of Total Donors</TableCell>\n              <TableCell align=\"right\" className={classes.tableHeadCell}>$ Contributed (MM)</TableCell>\n              <TableCell align=\"right\" className={classes.tableHeadCell}>% of Total Amt</TableCell>\n              <TableCell align=\"right\" className={classes.tableHeadCell}>Avg $ per Donor</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {crossDonorRows.map(row => (\n              <TableRow key={row.category}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {(row.category === \"0\") ? \"Only \" + props.candidate.key : row.category + \" other candidate\" }\n                </TableCell>\n                <TableCell align=\"right\">{quantity(row.numDonors)}</TableCell>\n                <TableCell align=\"right\">{percentage(row.numDonors / donorTotalCount)}</TableCell>\n                <TableCell align=\"right\">{financial(row.amountContributed)}</TableCell>\n                <TableCell align=\"right\">{percentage(row.amountContributed / donorTotalDollars)}</TableCell>\n                <TableCell align=\"right\">{dollars((row.amountContributed * 1000) / row.numDonors)}</TableCell>\n              </TableRow>\n            ))}\n\n            <TableRow key=\"total\">\n              <TableCell component=\"th\" scope=\"row\" align=\"right\" className={classes.tableHeadCell}>Total</TableCell>\n              <TableCell align=\"right\" className={classes.tableHeadCell}>{quantity(donorTotalCount)}</TableCell>\n              <TableCell align=\"right\"></TableCell>\n              <TableCell align=\"right\" className={classes.tableHeadCell}>{financial(donorTotalDollars)}</TableCell>\n              <TableCell align=\"right\"></TableCell>\n              <TableCell align=\"right\" className={classes.tableHeadCell}>{dollars((donorTotalDollars * 1000)/donorTotalCount)}</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    )}\n    </>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport * as d3 from 'd3';\n\nconst MARGINS = {\n  left: 100,\n  right: 50,\n  top: 25,\n  bottom: 25\n};\n\nconst styles = theme => ({\n  barLabel: {\n    fontFamily: 'Lato, sans-serif',\n  },\n  axisLabel: {\n    fontFamily: 'Lato, sans-serif',\n    fontWeight: 'bold',\n    fontSize: 14\n  }\n});\n\n/**\n* Horizontal Bar Chart\n*/\nclass HorizontalBarChart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.svg = null;\n    this.chart = null;\n    this.xScale = null;\n    this.yScale = null;\n    this.bars = null;\n\n    this.rendered = false;\n\n    this.maxValue = props.hasOwnProperty('maxValue') ? props.maxValue : Math.max(...this.props.data.map(d => d.value));\n  }\n\n  componentDidMount() {\n    if (this.props.data.length > 0) {\n      console.log('Render on mount');\n      this.initialRender(this.props.data);\n    } else {\n      console.log('Mount but no render');\n    }\n  }\n\n  initialRender(data) {\n    this.chart = this.svg.append('g')\n      .attr('transform', `translate(${MARGINS.left},${MARGINS.top})`);\n\n    // Sort so that data appears in descending order.\n    // const sortedData = data.sort((a, b) => b.value - a.value);\n    this.drawChart(data);\n    this.rendered = true;\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Catch new props and use D3 to update the DOM\n    // instead of a normal React render().\n    if (nextProps.data !== this.props.data && nextProps.data.length > 0 && !this.rendered) {\n      console.log('d3 re-render');\n      console.log(nextProps);\n      this.maxValue = this.maxValue > 1 ? this.maxValue : Math.max(...nextProps.data.map(d => d.value));\n      // this.maxValue = Math.max(...nextProps.data.map(d => d.value));\n      this.initialRender(nextProps.data);\n    } else if (nextProps.data !== this.props.data && nextProps.data.length > 0 && this.rendered) {\n      console.log('d3 update');\n      console.log(nextProps);\n\n      // this.drawChart(nextProps.data);\n      // Update max value.\n      this.maxValue = this.maxValue > 1 ? this.maxValue : Math.max(...nextProps.data.map(d => d.value));\n\n      console.log(this.maxValue)\n      this.updateChart(nextProps.data);\n    }\n    return false;\n  }\n\n\n  updateChart(data) {\n    console.log('d3 rerender');\n    // Update scale.\n    this.xScale = d3.scaleLinear()\n      .domain([0, this.maxValue])\n      .range([0, this.props.width - MARGINS.left - MARGINS.right]);\n\n    // Update y-axis labels\n    this.bandScale = d3.scaleBand()\n      .domain(data.map(d => d.name))\n      .range([0, this.props.height - MARGINS.top - MARGINS.bottom])\n      .paddingInner(0.05);\n\n    const yAxis = d3.axisLeft(this.bandScale)\n      // .tickFormat(d => d.name)\n      .tickSize(0);\n\n    this.axes.selectAll('.y-axis')\n      .call(yAxis);\n\n    this.axes.selectAll('.tick')\n      .select('text')\n      .classed(this.props.classes.axisLabel, true);\n\n    // Update bars\n    this.bars\n      .selectAll('rect')\n      .data(data)\n      .enter()\n        .append('rect')\n        .attr('height', this.bandScale.bandwidth())\n        .attr('y', d => this.bandScale(d.name))\n        .attr('fill', this.props.color)\n        .attr('width', 0);\n\n    const labelText = this.bars.selectAll('text')\n      .data(data)\n      .enter()\n        .append('text')\n        .classed(this.props.classes.barLabel, true)\n        .attr('x', 20)\n        // .attr('x', d => this.xScale(d.value) + 20)\n        .attr('y', d => this.bandScale(d.name) + this.bandScale.bandwidth()/2)\n        .attr('text-anchor', 'start')\n        .attr('alignment-baseline', 'middle')\n        .text(0);\n          // .text(d => d.value);\n\n    // Transition to show values from 0\n    this.bars.selectAll('rect')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('width', d => this.xScale(d.value));\n\n    this.bars.selectAll('text')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('x', d => this.xScale(d.value) + 10)\n      .tween('text', function(d) {\n        const i = d3.interpolate(this.textContent, d.value);\n        return function(t) {\n          this.textContent = Math.round(i(t));\n        }\n      });\n  }\n\n\n  drawChart(data) {\n    console.log('d3 intial render');\n\n    this.xScale = d3.scaleLinear()\n      .domain([0, this.maxValue])\n      .range([0, this.props.width - MARGINS.left - MARGINS.right]);\n\n    this.bandScale = d3.scaleBand()\n      .domain(data.map(d => d.name))\n      .range([0, this.props.height - MARGINS.top - MARGINS.bottom])\n      .paddingInner(0.05);\n\n    // Y-Axis\n    this.axes = this.chart.append('g')\n      .classed('axes', true);\n\n    const yAxis = d3.axisLeft(this.bandScale)\n      // .tickFormat(d => d.name)\n      .tickSize(0);\n\n    this.axes.append('g')\n      .classed('y-axis', true)\n      .attr('color', '#222')\n      .call(yAxis);\n\n    const t = this.axes.selectAll('.tick')\n      .select('text')\n      .classed(this.props.classes.axisLabel, true);\n    console.log(t);\n\n    // Bars\n    this.bars = this.chart.append('g')\n      .classed('bars', true);\n\n    this.bars\n      .selectAll('rect')\n      .data(data)\n      .enter()\n        .append('rect')\n        .attr('height', this.bandScale.bandwidth())\n        .attr('y', d => this.bandScale(d.name))\n        .attr('fill', this.props.color)\n        .attr('width', 0);\n\n    const labelText = this.bars.selectAll('text')\n      .data(data)\n      .enter()\n        .append('text')\n        .classed(this.props.classes.barLabel, true)\n        .attr('x', 20)\n        // .attr('x', d => this.xScale(d.value) + 20)\n        .attr('y', d => this.bandScale(d.name) + this.bandScale.bandwidth()/2)\n        .attr('text-anchor', 'start')\n        .attr('alignment-baseline', 'middle')\n        .text(0);\n        // .text(d => d.value);\n\n    // Transition to show values from 0\n    this.bars.selectAll('rect')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('width', d => this.xScale(d.value));\n\n    this.bars.selectAll('text')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('x', d => this.xScale(d.value) + 10)\n      .tween('text', function(d) {\n        const i = d3.interpolate(this.textContent, d.value);\n        return function(t) {\n          this.textContent = Math.round(i(t));\n        }\n      });\n  }\n\n  render() {\n    console.log('React re-render');\n    return (\n      <svg\n        width={this.props.width}\n        height={this.props.height}\n        ref={elem => (this.svg = d3.select(elem))}\n      ></svg>\n    );\n  }\n}\n\nHorizontalBarChart.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(HorizontalBarChart);\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\n\n\nimport * as d3 from 'd3';\nconst currencyFormatter = num => d3.format('($,.1f')(num);\n\nconst MARGINS = {\n  left: 65,\n  right: 25,\n  top: 25,\n  bottom: 40\n};\n\nconst styles = theme => ({\n  axisLabel: {\n    fontFamily: 'Raleway, sans-serif',\n    fontWeight: 'bold'\n  },\n  tickLabel: {\n    fontFamily: 'Raleway, sans-serif',\n  }\n});\n\n\n/**\n* Line Chart\n*\n* props:\n*   height\n*   width\n*   data\n*   type: `currency` or `quantity`\n*/\nconst parseDate = d3.timeParse(\"%Y-%m-%d\");\n\nclass LineChart extends React.Component {\n  //\n  // const [rendered, setRendered] = useState(false);\n  constructor(props) {\n    super(props);\n\n    this.svg = null;\n    this.chart = null;\n    this.xScale = null;\n    this.xAxis = null;\n    this.xAxisRef = null;\n\n\n    this.yScale = null;\n    this.yAxis = null;\n    this.yAxisRef = null;\n    this.axes = null;\n    this.lines = null;\n\n    this.rendered = false;\n  }\n\n  componentDidMount() {\n    if (this.props.data) {\n      this.chart = this.svg.append('g')\n        .attr('transform', `translate(${MARGINS.left},${MARGINS.top})`);\n      this.drawChart(this.props.data);\n      this.rendered = true;\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Catch new props and use D3 to update the DOM\n    // instead of a normal React render().\n    console.log(nextProps);\n    if (nextProps.data !== this.props.data && !this.rendered) {\n      console.log('d3 re-render');\n      this.chart = this.svg.append('g')\n        .attr('transform', `translate(${MARGINS.left},${MARGINS.top})`);\n      this.drawChart(nextProps.data);\n      this.rendered = true;\n    } else if (nextProps.data !== this.props.data) {\n      console.log('d3 update');\n      this.updateChart(nextProps.data);\n    }\n    return false;\n  }\n\n\n  drawChart(data) {\n    console.log('d3 rerender');\n\n    // X Axis\n    // console.log(xVals);\n    // const xScale = d3.scaleTime\n    this.xScale = d3.scaleTime()\n      .domain(d3.extent(this.props.data, d => parseDate(d.date)))\n      .range([0, this.props.width - MARGINS.left - MARGINS.right])\n      .nice();\n\n    // const xAxis = d3.axisBottom(xScale)\n    this.xAxis = d3.axisBottom(this.xScale)\n      .ticks(d3.timeMonth.every(3))\n      .tickFormat(d3.timeFormat('%Y-%m-%d'));\n\n    // const axes = chart.append('g')\n    this.axes = this.chart.append('g')\n      .classed('axes', true);\n\n    this.xAxisRef = this.axes.append('g')\n      .classed('x-axis', true)\n      .attr('transform', `translate(0, ${this.props.height - MARGINS.top - MARGINS.bottom})`)\n      .attr('color', '#222')\n      .call(this.xAxis);\n\n    this.axes.append('text')\n      .classed('x-axis-label', true)\n      .classed(this.props.classes.axisLabel, true)\n      .attr('y', this.props.height - MARGINS.bottom)\n      .attr('x', (this.props.width - MARGINS.left - MARGINS.right) / 2)\n      .attr('dy', '1em')\n      .attr('text-anchor', 'middle')\n      .text('Date');\n\n\n    const maxY = d3.max(this.props.data, d => +Math.abs(d.total.a - d.total.b));\n    this.yScale = d3.scaleLinear()\n      .domain([-maxY, +maxY])\n      .range([this.props.height - MARGINS.top - MARGINS.bottom, 0])\n      .nice();\n\n    // const yAxis = this.props.type === 'currency' ?\n    this.yAxis = this.props.type === 'currency' ?\n      d3.axisLeft(this.yScale)\n        .tickFormat(currencyFormatter) :\n      d3.axisLeft(this.yScale);\n\n    this.yAxisRef = this.axes.append('g')\n      .classed('y-axis', true)\n      .attr('color', '#222')\n      .call(this.yAxis);\n\n    this.axes.append('text')\n      .classed('y-axis-label', true)\n      .classed(this.props.classes.axisLabel, true)\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 0 - MARGINS.left)\n      .attr('x', 0 - ((this.props.height - MARGINS.top - MARGINS.bottom) / 2))\n      .attr('dy', '1em')\n      .attr('text-anchor', 'middle')\n      .text('Crossover Donor Difference ($MM)');\n\n    // Finish tick styling\n    d3.selectAll('.tick')\n      .select('text')\n      .classed(this.props.classes.tickLabel, true);\n\n    // Line\n    this.lines = this.chart.append('g')\n      .classed('lines', true);\n\n    // Axis line\n    const horizAxisLine= d3.line()\n      .x(d => this.xScale(parseDate(d.date)))\n      .y(d => this.yScale(0));\n\n    const momentumLine = d3.line()\n      .x(d => this.xScale(parseDate(d.date)))\n      .y(d => this.yScale(d.total.a - d.total.b));\n\n    this.lines.append(\"path\")\n      .datum(this.props.data)\n      .style(\"fill\", \"none\")\n      .style(\"stroke-width\", 1.5)\n      .style(\"stroke\", \"black\")\n      .attr(\"d\", horizAxisLine);\n      // .attr(\"d\", d3.line()\n      //   .x(d => this.xScale(parseDate(d.date)))\n      //   .y(d => this.yScale(0)));\n\n    this.lines.append('path')\n      .classed('a', true)\n      .datum(this.props.data)\n      .attr('fill', 'none')\n      .attr('stroke', 'steelblue')\n      .attr('stroke-width', 1.5)\n      .attr('d', momentumLine);\n\n    const positiveDiff = d3.area()\n        .x(d => this.xScale(parseDate(d.date)))\n        .y1(d => this.yScale(Math.max(d.total.a - d.total.b, 0)))\n        .y0(d => this.yScale(0));\n\n    const negativeDiff = d3.area()\n        .x(d => this.xScale(parseDate(d.date)))\n        .y1(d => this.yScale(Math.min(d.total.a - d.total.b, 0)))\n        .y0(d => this.yScale(0));\n\n    this.lines.append('path')\n      .datum(this.props.data)\n      .classed('negative', true)\n      .style('fill', 'red')\n      .style(\"fill-opacity\", 0.5)\n      .attr('d', d => {\n        console.log(d);\n        const result = negativeDiff(d);\n        console.log(result);\n        return result;\n      });\n\n      this.lines.append('path')\n        .datum(this.props.data)\n        .classed('positive', true)\n        .style('fill', 'green')\n        .style(\"fill-opacity\", 0.5)\n        .attr('d', d => {\n          console.log(d);\n          const result = positiveDiff(d);\n          console.log(result);\n          return result;\n        });\n  }\n\n  updateChart(data) {\n    console.log('d3 update');\n    console.log(this.xScale);\n\n    // Update Axis\n    // TODO: Make the 'eachMonth' logic work better\n    this.xScale = this.xScale.domain(d3.extent(data, d => parseDate(d.date))).nice();\n\n    this.xAxisRef.transition()\n        .duration(500)\n        .call(this.xAxis);\n\n    const maxY = d3.max(data, d => +Math.abs(d.total.a - d.total.b));\n    this.yScale = d3.scaleLinear()\n      .domain([-maxY, +maxY])\n      .range([this.props.height - MARGINS.top - MARGINS.bottom, 0])\n      .nice();\n\n    this.yAxis = this.props.type === 'currency' ?\n      d3.axisLeft(this.yScale)\n        .tickFormat(currencyFormatter) :\n      d3.axisLeft(this.yScale);\n\n    this.yAxisRef.transition().duration(500).call(this.yAxis);\n\n    const t = d3.transition()\n      .duration(500)\n      .ease(d3.easeLinear);\n\n    // Note: We must bind data before the transition begins.\n    // TODO(RS): Make this transition look better!\n    this.lines.select('.a')\n      .datum(data)\n      .transition(t)\n      .attr('d', d3.line()\n        .x(d => this.xScale(parseDate(d.date)))\n        .y(d => this.yScale(d.total.a - d.total.b))\n      );\n\n    const positiveDiff = d3.area()\n        .x(d => this.xScale(parseDate(d.date)))\n        .y1(d => this.yScale(Math.max(d.total.a - d.total.b, 0)))\n        .y0(d => this.yScale(0));\n\n    const negativeDiff = d3.area()\n        .x(d => this.xScale(parseDate(d.date)))\n        .y1(d => this.yScale(Math.min(d.total.a - d.total.b, 0)))\n        .y0(d => this.yScale(0));\n\n    this.lines.select('.negative')\n      .datum(data)\n      .transition(t)\n      .attr('d', negativeDiff);\n\n    this.lines.select('.positive')\n      .datum(data)\n      .transition(t)\n      .attr('d', positiveDiff);\n  }\n\n  render() {\n    console.log('React rerender');\n    return (\n      <svg\n        width={this.props.width}\n        height={this.props.height}\n        ref={elem => (this.svg = d3.select(elem))}\n      >\n      </svg>\n    );\n  }\n}\n\nLineChart.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(LineChart);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport * as d3 from 'd3';\n\nconst MARGINS = {\n  left: 80,\n  right: 60,\n  top: 25,\n  bottom: 25\n};\n\nconst styles = theme => ({\n  barLabel: {\n    fontFamily: 'Lato, sans-serif',\n  },\n  axisLabel: {\n    fontFamily: 'Lato, sans-serif',\n    fontWeight: 'bold',\n    fontSize: 14\n  }\n});\n\nconst currencyFormatter = num => d3.format('($,.1f')(num);\nconst thousandsFormatter = num => d3.format('(,.0f')(num);\n\n/**\n* Horizontal Bar Chart\n*/\nclass CrossDonorBarChart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.svg = null;\n    this.chart = null;\n    this.xScale = null;\n    this.yScale = null;\n    this.bars = null;\n\n    this.formatter = props.format === 'currency' ? currencyFormatter : thousandsFormatter;\n\n    this.rendered = false;\n\n    this.maxValue = Math.max(...this.props.data.map(d => d.totalAmount))\n  }\n\n  componentDidMount() {\n    if (this.props.data.length > 0) {\n      console.log('Render on mount');\n      this.initialRender(this.props.data);\n    } else {\n      console.log('Mount but no render');\n    }\n  }\n\n  initialRender(data) {\n    this.chart = this.svg.append('g')\n      .attr('transform', `translate(${MARGINS.left},${MARGINS.top})`);\n\n    // Sort so that data appears in descending order.\n    // const sortedData = data.sort((a, b) => b.value - a.value);\n    this.drawChart(data);\n    this.rendered = true;\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Catch new props and use D3 to update the DOM\n    // instead of a normal React render().\n    if (nextProps.data !== this.props.data && nextProps.data.length > 0 && !this.rendered) {\n      console.log(nextProps);\n      this.initialRender(nextProps.data);\n    } else if (nextProps.data !== this.props.data && nextProps.data.length > 0 && this.rendered) {\n      console.log(nextProps);\n      this.updateChart(nextProps.data);\n    }\n    return false;\n  }\n\n  updateChart(data) {\n    console.log('d3 update');\n\n    // Update scale.\n    this.maxValue = Math.max(...data.map(d => d.totalAmount))\n    this.xScale = d3.scaleLinear()\n      .domain([0, this.maxValue])\n      .range([0, this.props.width - MARGINS.left - MARGINS.right]);\n\n    // Update y-axis labels\n    this.bandScale = d3.scaleBand()\n      .domain(data.map(d => d.name))\n      .range([0, this.props.height - MARGINS.top - MARGINS.bottom])\n      .paddingInner(0.05);\n\n    const yAxis = d3.axisLeft(this.bandScale)\n      // .tickFormat(d => d.name)\n      .tickSize(0);\n\n    this.axes.selectAll('.y-axis')\n      .call(yAxis);\n\n    this.axes.selectAll('.tick')\n      .select('text')\n      .classed(this.props.classes.axisLabel, true);\n\n    // Update bars\n    this.bars\n      .selectAll('rect')\n      .data(data)\n      .enter()\n        .append('rect')\n        .attr('height', this.bandScale.bandwidth())\n        .attr('y', d => this.bandScale(d.name))\n        .attr('fill', this.props.color)\n        .attr('width', 0);\n\n    const labelText = this.bars.selectAll('text')\n      .data(data)\n      .enter()\n        .append('text')\n        .classed(this.props.classes.barLabel, true)\n        .attr('x', 20)\n        // .attr('x', d => this.xScale(d.value) + 20)\n        .attr('y', d => this.bandScale(d.name) + this.bandScale.bandwidth()/2)\n        .attr('text-anchor', 'middle')\n        .text(0);\n          // .text(d => d.value);\n\n    // Transition to show values from 0\n    this.bars.selectAll('.cross')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('width', d => this.xScale(d.crossAmount));\n\n    this.bars.selectAll('.total')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('width', d => this.xScale(d.totalAmount));\n\n    const formatter = this.formatter;\n\n  this.bars.selectAll('.totalLabel')\n    .data(data)\n    .transition()\n    .duration(1000)\n    .attr('x', d => this.xScale(d.totalAmount) + 10)\n    .tween('text', function(d) {\n          const floatValue = parseFloat(\n            this.textContent\n              .replace('$', '')\n              .replace(',', ''));\n          const i = d3.interpolate(floatValue, d.totalAmount);\n          return function(t) {\n            this.textContent = formatter(i(t));\n          }\n        });\n\n    this.bars.selectAll('.crossLabel')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('x', d => this.xScale(d.crossAmount) + 10)\n      .tween('text', function(d) {\n          const floatValue = parseFloat(\n            this.textContent\n              .replace('$', '')\n              .replace(',', ''));\n          const i = d3.interpolate(floatValue, d.crossAmount);\n          return function(t) {\n            this.textContent = formatter(i(t));\n          }\n        });\n  }\n\n  drawChart(data) {\n    console.log('d3 render');\n\n    this.xScale = d3.scaleLinear()\n      .domain([0, this.maxValue])\n      .range([0, this.props.width - MARGINS.left - MARGINS.right]);\n\n    this.bandScale = d3.scaleBand()\n      .domain(data.map(d => d.name))\n      .range([0, this.props.height - MARGINS.top - MARGINS.bottom])\n      .paddingInner(0.05);\n\n    // Y-Axis\n    this.axes = this.chart.append('g')\n      .classed('axes', true);\n\n    const yAxis = d3.axisLeft(this.bandScale)\n      // .tickFormat(d => d.name)\n      .tickSize(0);\n\n    this.axes.append('g')\n      .classed('y-axis', true)\n      .attr('color', '#222')\n      .call(yAxis);\n\n    const t = this.axes.selectAll('.tick')\n      .select('text')\n      .classed(this.props.classes.axisLabel, true);\n    // console.log(t);\n\n    // Bars\n    this.bars = this.chart.append('g')\n      .classed('bars', true);\n\n    const enter = this.bars\n      .selectAll('rect')\n      .data(data)\n      .enter();\n\n    enter.append('rect')\n      .classed('total', true)\n      .attr('height', this.bandScale.bandwidth())\n      .attr('y', d => this.bandScale(d.name))\n      .attr('fill', 'steelblue')\n      .attr('width', 0);\n\n    enter.append('rect')\n      .classed('cross', true)\n      .attr('height', this.bandScale.bandwidth())\n      .attr('y', d => this.bandScale(d.name))\n      .attr('fill', '#e9bb59')\n      .attr('width', 0);\n\n    const labelEnter = this.bars.selectAll('text')\n      .data(data)\n      .enter();\n\n    const formatter = this.formatter;\n\n    labelEnter.append('text')\n      .classed(this.props.classes.barLabel, true)\n      .classed('totalLabel', true)\n      .attr('x', 20)\n      // .attr('x', d => this.xScale(d.value) + 20)\n      .attr('y', d => this.bandScale(d.name) + this.bandScale.bandwidth()/2)\n      .attr('text-anchor', 'start')\n      .attr('alignment-baseline', 'middle')\n      .text(formatter(0));\n\n    labelEnter.append('text')\n      .classed(this.props.classes.barLabel, true)\n      .classed('crossLabel', true)\n      .attr('fill', 'white')\n      .attr('x', 20)\n      // .attr('x', d => this.xScale(d.value) + 20)\n      .attr('y', d => this.bandScale(d.name) + this.bandScale.bandwidth()/2)\n      .attr('text-anchor', 'start')\n      .attr('alignment-baseline', 'middle')\n      .text(formatter(0));\n        // .text(d => d.value);\n\n    // Transition to show values from 0\n    this.bars.selectAll('.cross')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('width', d => this.xScale(d.crossAmount));\n\n    this.bars.selectAll('.total')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('width', d => this.xScale(d.totalAmount));\n\n\n\n    this.bars.selectAll('.totalLabel')\n      .data(data)\n      .transition()\n      .duration(1000)\n      .attr('x', d => this.xScale(d.totalAmount) + 10)\n      .tween('text', function(d) {\n            const floatValue = parseFloat(\n              this.textContent\n                .replace('$', '')\n                .replace(',', ''));\n            const i = d3.interpolate(floatValue, d.totalAmount);\n            return function(t) {\n              this.textContent = formatter(i(t));\n            }\n          });\n\n      this.bars.selectAll('.crossLabel')\n        .data(data)\n        .transition()\n        .duration(1000)\n        .attr('x', d => this.xScale(d.crossAmount) + 10)\n        .tween('text', function(d) {\n            const floatValue = parseFloat(\n              this.textContent\n                .replace('$', '')\n                .replace(',', ''));\n            const i = d3.interpolate(floatValue, d.crossAmount);\n            return function(t) {\n              this.textContent = formatter(i(t));\n            }\n          });\n  }\n\n  render() {\n    console.log('React re-render');\n    return (\n      <svg\n        width={this.props.width}\n        height={this.props.height}\n        ref={elem => (this.svg = d3.select(elem))}\n      ></svg>\n    );\n  }\n}\n\nCrossDonorBarChart.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CrossDonorBarChart);\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nimport HorizontalBarChart from './HorizontalBarChart';\n\nexport default function contributionFrequencyHistogram(props) {\n  // Build contributionsFreq data\n  let contributionsFreq = [];\n  if (props.data !== null) {\n    // console.log(props.data.data);\n    const candidateData = props.data.data.filter(row => row.CandidateName === props.candidate.recordName)[0];\n      contributionsFreq = ['1x', '2x', '3x', '4-9x', '>10x']\n          .map(key => ({ name: key, value: parseInt(candidateData[key])/1000}));\n  }\n  // console.log(contributionsFreq);\n\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\" align=\"left\">By Contribution frequency</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"h7\" align=\"left\" color=\"textSecondary\">in 000s</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <HorizontalBarChart height={400} width={300} data={contributionsFreq} maxValue={1000} color='steelblue' />\n        </Grid>\n    </Grid>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nimport HorizontalBarChart from './HorizontalBarChart';\n\nexport default function ContributionAmountHistogram(props) {\n  // Build contributionsFreq data\n  let contributionsFreq = [];\n  if (props.data !== null) {\n    // console.log(props.data.data);\n    const candidateData = props.data.data.filter(row => row.CandidateName === props.candidate.recordName)[0];\n      contributionsFreq = ['$10 or less', '$11-50', '$51-100', '$101-200', '$201-500', '$501-2,799', '$2,800 +']\n          .map(key => ({ name: key, value: parseInt(candidateData[key])/1000}));\n  }\n\n  // console.log(contributionsFreq);\n\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\" align=\"left\">By Contribution Amount</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"h7\" align=\"left\" color=\"textSecondary\">in 000s</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <HorizontalBarChart height={400} width={300} data={contributionsFreq} maxValue={780} color='steelblue' />\n        </Grid>\n    </Grid>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nimport HorizontalBarChart from './HorizontalBarChart';\n\nexport default function CrossDonorSummaryChart(props) {\n\n  let candidateCrossDonorSummary = props.crossDonorData[props.candidate.key]\n    .map(row => ({name: row.name, value: row.value/1000 }));\n\n  return (\n    <Grid container>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\" align=\"left\">Crossover Donors</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"h7\" align=\"left\" color=\"textSecondary\">Donated to both {props.candidate.key} and others, in 000s</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <HorizontalBarChart height={400} width={300} data={candidateCrossDonorSummary} maxValue={195} color='steelblue' />\n      </Grid>\n    </Grid>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nimport CrossDonorBarChart from './CrossDonorBarChart';\nimport MomentumLineChart from './MomentumLineChart';\n\nimport * as d3 from 'd3';\n\nconst currencyFormatter = num => d3.format('($,.1f')(num);\n\n// Quantity dataset\nconst dateToString = d3.timeFormat('%Y-%m-%d');\n\nconst startDate = new Date(2017, 0, 0);\n// console.log(startDate);\n\nconst endDate = new Date(2018, 0, 0);\n\nlet currentDate = new Date(startDate);\n// console.log(currentDate);\n\nconst dates = [];\ndo {\n  currentDate = new Date(currentDate);\n  currentDate.setDate(currentDate.getDate() + 1);\n  dates.push(dateToString(currentDate));\n} while (currentDate <= endDate);\n\nfunction getRandomInt(max) {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n\n\n\nconst LINE_DATA = [];\ndates.forEach(d => {\n  const dp = {\n    date: d,\n    total: {\n      a: getRandomInt(15) * 4.95,\n      b: getRandomInt(17) * 4.95\n    }\n  };\n  LINE_DATA.push(dp);\n});\n\nconst CUMULATIVE_LINE_DATA = LINE_DATA.map((d1, i1, _arr) => ({\n  date: d1.date,\n  total: {\n    a: _arr.filter((d2, i2) => (i2 <= i1)).reduce((acc, cur) => acc + cur.total.a, 0),\n    b: _arr.filter((d2, i2) => (i2 <= i1)).reduce((acc, cur) => acc + cur.total.b, 0)\n  }\n}));\nconsole.log(CUMULATIVE_LINE_DATA);\n\nexport default function CrossDonorAnalysis(props) {\n\n  let crossDonorCount = [];\n  let crossDonorAmount = [];\n  let momentumData = [];\n  if (props.crossDonorData !== null) {\n    const crossDonorMap = props.crossDonorData.data\n      .filter(row => (row.CAND_A === props.candidate.recordName || row.CAND_A === props.compareCandidate.recordName) &&\n        (row.CAND_B === props.candidate.recordName || row.CAND_B === props.compareCandidate.recordName))\n      .reduce((acc, cur) => {\n        // console.log(acc, cur);\n        if (cur.CAND_A === cur.CAND_B && cur.CAND_A === props.candidate.recordName) {\n          // Increment candidate #s\n          const totalCountIncrement = cur.NEW_DONOR_COUNT_A !== \"\" ? parseInt(cur.NEW_DONOR_COUNT_A) : 0;\n          const totalAmountIncrement = cur.CONTRIBUTION_AMOUNT_A !== \"\" ? Number.parseFloat(cur.CONTRIBUTION_AMOUNT_A) : 0;\n          return {\n            [props.candidate.key]: {\n                crossCount: acc[props.candidate.key].crossCount,\n                totalCount: acc[props.candidate.key].totalCount + totalCountIncrement,\n                crossAmount: acc[props.candidate.key].crossAmount,\n                totalAmount: acc[props.candidate.key].totalAmount + totalAmountIncrement\n              },\n            [props.compareCandidate.key]: {\n              crossCount: acc[props.compareCandidate.key].crossCount,\n              totalCount: acc[props.compareCandidate.key].totalCount,\n              crossAmount: acc[props.compareCandidate.key].crossAmount,\n              totalAmount: acc[props.compareCandidate.key].totalAmount\n            }\n          };\n        } else if (cur.CAND_A === cur.CAND_B && cur.CAND_A === props.compareCandidate.recordName) {\n          // Increment compareCandidate #s\n          const totalCountIncrement = cur.NEW_DONOR_COUNT_A !== \"\" ? parseInt(cur.NEW_DONOR_COUNT_A) : 0;\n          const totalAmountIncrement = cur.CONTRIBUTION_AMOUNT_A !== \"\" ? Number.parseFloat(cur.CONTRIBUTION_AMOUNT_A) : 0;\n          return {\n            [props.candidate.key]: {\n                crossCount: acc[props.candidate.key].crossCount,\n                totalCount: acc[props.candidate.key].totalCount,\n                crossAmount: acc[props.candidate.key].crossAmount,\n                totalAmount: acc[props.candidate.key].totalAmount,\n              },\n            [props.compareCandidate.key]: {\n              crossCount: acc[props.compareCandidate.key].crossCount,\n              totalCount: acc[props.compareCandidate.key].totalCount + totalCountIncrement,\n              crossAmount: acc[props.compareCandidate.key].crossAmount,\n              totalAmount: acc[props.compareCandidate.key].totalAmount + totalAmountIncrement\n            }\n          }\n        } else if (cur.CAND_A === props.candidate.recordName && cur.CAND_B === props.compareCandidate.recordName){\n          // Increment cross #s\n          const countAIncrement = cur.NEW_DONOR_COUNT_A !== \"\" ? parseInt(cur.NEW_DONOR_COUNT_A) : 0;\n          const amountAIncrement = cur.CONTRIBUTION_AMOUNT_A !== \"\" ? Number.parseFloat(cur.CONTRIBUTION_AMOUNT_A) : 0;\n          const countBIncrement = cur.NEW_DONOR_COUNT_B !== \"\" ? parseInt(cur.NEW_DONOR_COUNT_B) : 0;\n          const amountBIncrement = cur.CONTRIBUTION_AMOUNT_B !== \"\" ? Number.parseFloat(cur.CONTRIBUTION_AMOUNT_B) : 0;\n          return {\n            [props.candidate.key]: {\n                crossCount: acc[props.candidate.key].crossCount + countAIncrement,\n                totalCount: acc[props.candidate.key].totalCount,\n                crossAmount: acc[props.candidate.key].crossAmount + amountAIncrement,\n                totalAmount: acc[props.candidate.key].totalAmount,\n              },\n            [props.compareCandidate.key]: {\n              crossCount: acc[props.compareCandidate.key].crossCount + countBIncrement,\n              totalCount: acc[props.compareCandidate.key].totalCount,\n              crossAmount: acc[props.compareCandidate.key].crossAmount + amountBIncrement,\n              totalAmount: acc[props.compareCandidate.key].totalAmount\n            }\n          }\n        }\n        else {\n          return acc;\n        }\n    }, {\n      [props.candidate.key]: { crossCount: 0, totalCount: 0, crossAmount: 0, totalAmount: 0 },\n      [props.compareCandidate.key]: { crossCount: 0, totalCount: 0, crossAmount: 0, totalAmount: 0 }\n    });\n\n    console.log(crossDonorMap);\n    crossDonorCount = [props.candidate.key, props.compareCandidate.key].map(key => ({\n      name: key,\n      crossAmount: crossDonorMap[key].crossCount / 1000,\n      totalAmount: crossDonorMap[key].totalCount / 1000,\n    }));\n    console.log(crossDonorCount);\n\n    crossDonorAmount = [props.candidate.key, props.compareCandidate.key].map(key => ({\n      name: key,\n      crossAmount: crossDonorMap[key].crossAmount / 1000000,\n      totalAmount: crossDonorMap[key].totalAmount / 1000000,\n    }));\n\n    momentumData = props.crossDonorData.data\n      .filter(row => row.CAND_A === props.candidate.recordName && row.CAND_B === props.compareCandidate.recordName)\n      .map(row => ({\n        date: row.CONTRIBUTION_DATE,\n        a: row.CONTRIBUTION_AMOUNT_A !== \"\" ? Number.parseFloat(row.CONTRIBUTION_AMOUNT_A)/1000000 : 0,\n        b: row.CONTRIBUTION_AMOUNT_B !== \"\" ? Number.parseFloat(row.CONTRIBUTION_AMOUNT_B)/1000000 : 0,\n      }))\n      .map((d1, i1, _arr) => ({\n          date: d1.date,\n          total: {\n            a: _arr.filter((d2, i2) => (i2 <= i1)).reduce((acc, cur) => acc + cur.a, 0),\n            b: _arr.filter((d2, i2) => (i2 <= i1)).reduce((acc, cur) => acc + cur.b, 0)\n          }\n      }));\n    console.log(momentumData);\n\n    console.log(crossDonorAmount);\n  }\n\n  return (\n    <>\n      <Typography variant=\"h6\" align=\"left\">Relative Crossover Donor Momentum</Typography>\n\n      {momentumData.length > 0 &&\n        <MomentumLineChart height={300} width={900} data={momentumData} type='currency' />\n      }\n\n      <Grid container>\n        <Grid container item xs={6}>\n        <Grid item xs={12}>\n          <Typography variant=\"h6\" align=\"left\">Donor Count</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant=\"h7\" align=\"left\" color=\"textSecondary\">in 000s</Typography>\n        </Grid>\n          <Grid item xs={12}>\n            {crossDonorCount.length > 0 &&\n              <CrossDonorBarChart\n                width={400}\n                height={200}\n                data={crossDonorCount}\n                color=\"steelblue\"\n                maxValue={2000}\n              />\n            }\n          </Grid>\n        </Grid>\n        <Grid container item xs={6}>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\" align=\"left\">Contribution Amount ($)</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Typography variant=\"h7\" align=\"left\" color=\"textSecondary\">in $MM</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            {crossDonorAmount.length > 0 &&\n              <CrossDonorBarChart\n                width={400}\n                height={200}\n                data={crossDonorAmount}\n                format=\"currency\"\n                color=\"steelblue\"\n              />\n            }\n          </Grid>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\n// import * as d3 from 'd3';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Typography from '@material-ui/core/Typography';\n\nimport DonorOverviewTable from './components/DonorOverviewTable';\nimport HorizontalBarChart from './components/HorizontalBarChart';\nimport MomentumLineChart from './components/MomentumLineChart';\nimport CrossDonorBarChart from './components/CrossDonorBarChart';\n\nimport ContributionFrequencyHistogram from './components/ContributionFrequencyHistogram';\nimport ContributionAmountHistogram from './components/ContributionAmountHistogram';\nimport CrossDonorSummaryChart from './components/CrossDonorSummaryChart';\nimport CrossDonorAnalysis from './components/CrossDonorAnalysis';\n\nimport Papa from 'papaparse';\nimport * as d3 from 'd3';\n\n\n\nconst CROSS_DONOR_SUMMARY = {\n  'Buttigieg': [\n    {name: 'Warren', value: 145418},\n    {name: 'Klobuchar', value: 83212},\n    {name: 'Harris', value: 80671},\n    {name: 'Biden', value: 73841},\n    {name: 'Sanders', value: 67957},\n    {name: 'Booker', value: 57528},\n    {name: \"O'Rourke\", value: 45762},\n    {name: 'Steyer', value: 34945},\n    {name: 'Yang', value: 28671},\n    {name: 'Inslee', value: 24953}\n  ],\n  'Biden': [\n    {name: 'Buttigieg', value: 73841},\n    {name: 'Warren', value: 63017},\n    {name: 'Klobuchar', value: 62569},\n    {name: 'Harris', value: 51654},\n    {name: 'Booker', value: 35431},\n    {name: 'Steyer', value: 33332},\n    {name: \"O'Rourke\", value: 28925},\n    {name: 'Sanders', value: 27820},\n    {name: 'Inslee', value: 12643},\n    {name: 'Yang', value: 9282},\n  ],\n  'Warren': [\n    {name: 'Sanders', value: 195072},\n    {name: 'Buttigieg', value: 145418},\n    {name: 'Harris', value: 124557},\n    {name: 'Klobuchar', value: 82519},\n    {name: 'Booker', value: 75563},\n    {name: 'Biden', value: 63017},\n    {name: \"O'Rourke\", value: 42391},\n    {name: 'Inslee', value: 42358},\n    {name: 'Steyer', value: 38369},\n    {name: 'Yang', value: 32290},\n  ],\n  'Klobuchar': [\n    {name: 'Buttigieg', value: 83212},\n    {name: 'Warren', value: 82519},\n    {name: 'Biden', value: 62569},\n    {name: 'Harris', value: 55081},\n    {name: 'Booker', value: 44113},\n    {name: 'Sanders', value: 24584},\n    {name: 'Steyer', value: 22398},\n    {name: \"O'Rourke\", value: 19430},\n    {name: 'Inslee', value: 18915},\n    {name: 'Yang', value: 13459},\n  ],\n  'Sanders': [\n    {name: 'Warren', value: 195072},\n    {name: 'Buttigieg', value: 67957},\n    {name: 'Gabbard', value: 62038},\n    {name: 'Yang', value: 52711},\n    {name: 'Harris', value: 41221},\n    {name: 'Steyer', value: 33550},\n    {name: 'Booker', value: 29370},\n    {name: 'Biden', value: 27820},\n    {name: 'Williamson', value: 26938},\n    {name: 'Inslee', value: 25258},\n  ]\n}\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  title: {\n    padding: theme.spacing(3)\n  },\n  vizContainer: {\n    padding: theme.spacing(3)\n  },\n  dropdown: {\n    width: 120\n  },\n  table: {\n    padding: theme.spacing(3)\n  }\n}));\n\n\nconst CANDIDATES = {\n  Biden: {\n    fullName: 'Joe Biden',\n    recordName: 'Biden, Joe',\n    key: 'Biden'\n  },\n  Buttigieg: {\n    fullName: 'Pete Buttigieg',\n    recordName: 'Buttigieg, Pete',\n    key: 'Buttigieg'\n  },\n  Klobuchar: {\n    fullName: 'Amy Klobuchar',\n    recordName: 'Klobuchar, Amy',\n    key: 'Klobuchar'\n  },\n  Sanders: {\n    fullName: 'Bernie Sanders',\n    recordName: 'Sanders, Bernie',\n    key: 'Sanders'\n  },\n  Warren: {\n    fullName: 'Elizabeth Warren',\n    recordName: 'Warren, Elizabeth',\n    key: 'Warren'\n  },\n};\n\n// Financial formatting\nconst millionDollars = x => \"$\" + Number.parseFloat(x / 1000000).toFixed(1);\n\nconst thousands = x => Number.parseFloat(x / 1000).toFixed(0);\n\nexport default function App() {\n  const classes = useStyles();\n\n  const [candidate, setCandidate] = useState(CANDIDATES['Biden']);\n  const [compareCandidate, setCompareCandidate] = useState(CANDIDATES['Buttigieg']);\n  const [contributionDataComplete, setContributionDataComplete] = useState(null);\n  const [contributionAmountComplete, setContributionAmountComplete] = useState(null);\n  const [contributionsByNumbersOfCandidates, setContributionsByNumbersOfCandidates] = useState(null);\n  const [crossDonorDetail, setCrossDonorDetail] = useState(null);\n  // const [contributionFrequency, setContributionFrequency] = useState([]);\n\n  useEffect(() => {\n    // Load Contribution Count data.\n    const contributionCountUrl = 'ContributionFrequencyChart.csv';\n    Papa.parse(contributionCountUrl, {\n      download: true,\n      header: true,\n      complete: (results, file) => {\n        console.log(results);\n\n        setContributionDataComplete(results);\n      }\n    });\n\n    // Load Contribution Amount data.\n    const contributionAmountUrl = 'ContributionAmountChart.csv';\n    Papa.parse(contributionAmountUrl, {\n      download: true,\n      header: true,\n      complete: (results, file) => {\n        console.log(results);\n\n        setContributionAmountComplete(results);\n      }\n    });\n\n\n    // Load Contribution Totals by # of Candidates donated to.\n    const contributionsByNumbersOfCandidates = 'TotalContributionsByNumberOfCandidatesDonatedTo.csv';\n    Papa.parse(contributionsByNumbersOfCandidates, {\n      download: true,\n      header: true,\n      complete: (results, file) => {\n        console.log(results);\n\n        setContributionsByNumbersOfCandidates(results);\n      }\n    });\n\n    const crossDonorFilename = 'CrossDonorContributions.csv';\n    Papa.parse(crossDonorFilename, {\n      download: true,\n      header: true,\n      complete: (results, file) => {\n        console.log(results);\n\n        setCrossDonorDetail(results);\n      }\n    });\n\n  }, []);\n\n  const handleCandidateChange = event => {\n    // Reset the compareCandidate if the candidate and compareCandidate would be equal.\n    if (event.target.value === compareCandidate.key) {\n      const newCompareCandidate = Object.values(CANDIDATES)\n          .filter(cand => cand.key != event.target.value)[0];\n      setCompareCandidate(newCompareCandidate);\n    }\n    setCandidate(CANDIDATES[event.target.value]);\n    // updateContributionFrequency()\n  };\n\n  const handleCompareCandidateChange = event => {\n    setCompareCandidate(CANDIDATES[event.target.value]);\n  }\n\n  return (\n    <div> {/*className={classes.root}>*/}\n      <CssBaseline />\n      <Container maxWidth=\"md\" component=\"header\" className={classes.title}>\n        <Typography variant=\"h3\" align=\"center\">Campaign Contribution Analysis</Typography>\n        <Typography variant=\"h4\" align=\"center\" color=\"textSecondary\">Democratic Primary Edition</Typography>\n      </Container>\n\n      <Container maxWidth=\"md\" component=\"main\" className={classes.vizContainer}>\n        <Grid container>\n          <Grid item xs={9}>\n            <Typography variant=\"h4\" align=\"left\">{candidate.fullName} Donor Overview</Typography>\n          </Grid>\n          <Grid item xs={3}>\n            <FormControl className={classes.formControl}>\n              <InputLabel id=\"select-candidate-label\">Candidate</InputLabel>\n              <Select\n                labelId=\"select-candidate-label\"\n                id=\"select-candidate\"\n                value={candidate.key}\n                onChange={handleCandidateChange}\n                autoWidth={false}\n                className={classes.dropdown}\n              >\n                { Object.values(CANDIDATES).map(cand => (\n                    <MenuItem value={cand.key}>{cand.key}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n\n        {/* Donor Overview by Contribution Amount and Frequency*/}\n        <Grid container>\n          <Grid item xs={12} sm={4}>\n            <ContributionAmountHistogram data={contributionAmountComplete} candidate={candidate} />\n          </Grid>\n          <Grid item xs={12} sm={4}>\n            <ContributionFrequencyHistogram data={contributionDataComplete} candidate={candidate} />\n          </Grid>\n          <Grid item xs={12} sm={4}>\n            <CrossDonorSummaryChart crossDonorData={CROSS_DONOR_SUMMARY} candidate={candidate} />\n          </Grid>\n        </Grid>\n\n        {/* Donor Table */}\n        <DonorOverviewTable className={classes.table} donorData={contributionsByNumbersOfCandidates} candidate={candidate} />\n\n\n        {/*Select a SINGLE comparison candidate*/}\n        <Grid container className={classes.title}>\n          <Grid item xs={9}>\n            <Typography variant=\"h4\" align=\"left\">Candidate Comparison</Typography>\n            <Typography variant=\"h5\" align=\"left\" color=\"textSecondary\">{candidate.fullName} and {compareCandidate.fullName}</Typography>\n          </Grid>\n          <Grid item xs={3}>\n            <FormControl className={classes.formControl}>\n              <InputLabel id=\"select-candidate-label\">Compare to</InputLabel>\n              <Select\n                labelId=\"select-candidate-label\"\n                id=\"select-candidate\"\n                value={compareCandidate.key}\n                onChange={handleCompareCandidateChange}\n                autoWidth={false}\n                className={classes.dropdown}\n              >\n                { Object.values(CANDIDATES)\n                    .filter(cand => cand.key != candidate.key)\n                    .map(cand => (\n                    <MenuItem value={cand.key}>{cand.key}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n\n        <CrossDonorAnalysis crossDonorData={crossDonorDetail} candidate={candidate} compareCandidate={compareCandidate} />\n\n      </Container>\n    </div>\n  );\n}\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nexport const theme = createMuiTheme({\n  palette: {\n    common: {\n      black: '#000',\n      white: '#fff',\n    },\n    primary: {\n      light: 'steelblue',\n      main: 'steelblue',\n      dark: 'steelblue',\n      contrastText: '#fff'\n    },\n    error: {\n      light: '#ff595a',\n      main: '#ff595a',\n      dark: '#ff595a',\n      contrastText: '#fff'\n    },\n    background: {\n      paper: '#fff',\n      default: '#fff'\n    },\n  },\n  typography: {\n    fontFamily: 'Lato, sans-serif',\n    h1: {\n      fontFamily: 'Oswald, sans-serif'\n    },\n    h2: {\n      fontFamily: 'Oswald, sans-serif'\n    },\n    h3: {\n      fontFamily: 'Oswald, sans-serif'\n    },\n    h4: {\n      fontFamily: 'Oswald, sans-serif'\n    },\n    h5: {\n      fontFamily: 'Oswald, sans-serif'\n    }\n  }\n});\n\n// typography: {\n//     subtitle1: {\n//       fontSize: 12,\n//     },\n//     body1: {\n//       fontWeight: 500,\n//     },\n//     button: {\n//       fontStyle: 'italic',\n//     },\n//   },\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { ThemeProvider } from '@material-ui/styles';\n\nimport App from './App';\n// Theme\nimport { theme } from './Theme';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <App />\n  </ThemeProvider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}